<!doctype html>
<html>
<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/css/reveal.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/css/theme/black.min.css">
  <style>
    body {
      display: flex;
      margin: 0;
      font-family: Arial, sans-serif;
    }
    #sidebar {
      width: 250px;
      background: #f4f4f4;
      padding: 60px 10px 10px 10px; /* Add padding-top to make room for the toggle button */
      box-shadow: 2px 0 5px rgba(0,0,0,0.1);
      position: fixed;
      height: 100%;
      overflow-y: auto;
      transition: width 0.3s ease;
      display: flex;
      flex-direction: column;
      z-index: 100; /* Ensure it's above other content */
    }
    #sidebar.collapsed {
      width: 120px; /* Width matching the toggle button */
      padding: 10px; /* Adjust padding when collapsed */
    }
    #toggle-btn {
      position: absolute;
      top: 10px;
      left: 100%; /* Position the button outside the sidebar */
      width: 120px; /* Match the collapsed width of the sidebar */
      height: 40px; /* Adjust height to fit well */
      background: #007BFF;
      color: white;
      border: none;
      cursor: pointer;
      z-index: 101; /* Ensure the button is above the sidebar */
      transform: translateX(-100%); /* Move the button into view */
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px; /* Adjust font size for better fit */
    }
    #toggle-btn:hover {
      background: #0056b3;
    }
    #sidebar h2 {
      font-size: 1.5em;
      margin-top: 60px; /* Ensure that TOC is still below the toggle button when collapsed */
    }
    #sidebar ul {
      list-style: none;
      padding: 0;
      margin: 0;
      margin-top: 60px; /* Move TOC below the toggle button */
    }
    #sidebar li {
      margin-bottom: 10px;
    }
    #sidebar a {
      text-decoration: none;
      color: #007BFF;
    }
    #sidebar a:hover {
      text-decoration: underline;
    }
    #reveal {
      margin-left: 250px; /* Ensure the slides don't overlap the sidebar */
      width: calc(100% - 250px);
      height: 100vh;
      transition: margin-left 0.3s ease;
    }
    #reveal.shifted {
      margin-left: 120px; /* Adjust to match the collapsed width of the sidebar */
      width: calc(100% - 120px);
    }
  </style>
</head>
<body>
  <div id="sidebar">
    <button id="toggle-btn">Collapse</button>

    <h2>Table of Contents</h2>

    <ul id="toc"></ul>
  </div>

  <div class="reveal" id="reveal">
    <div class="slides">
      <section>
        <h2>Introduction</h2>
        <p>Welcome to the presentation.</p>
      </section>
      <section>
        <h2>Content</h2>
        <p>Here is the main content.</p>
      </section>
      <section>
        <h2>Conclusion</h2>
        <p>Wrapping up the presentation.</p>
      </section>

      <section>
            <h2>Introduction</h2>
            <p>Welcome to the presentation.</p>
          </section>
          <section>
            <h2>Content</h2>
            <p>Here is the main content.</p>
          </section>
          <section>
            <h2>Conclusion</h2>
            <p>Wrapping up the presentation.</p>
          </section>


          <section>
                <h2>Introduction</h2>
                <p>Welcome to the presentation.</p>
              </section>
              <section>
                <h2>Content</h2>
                <p>Here is the main content.</p>
              </section>
              <section>
                <h2>Conclusion</h2>
                <p>Wrapping up the presentation.</p>
              </section>


              <section>
                    <h2>Introduction</h2>
                    <p>Welcome to the presentation.</p>
                  </section>
                  <section>
                    <h2>Content</h2>
                    <p>Here is the main content.</p>
                  </section>
                  <section>
                    <h2>Conclusion</h2>
                    <p>Wrapping up the presentation.</p>
                  </section>


                  <section>
                        <h2>Introduction</h2>
                        <p>Welcome to the presentation.</p>
                      </section>
                      <section>
                        <h2>Content</h2>
                        <p>Here is the main content.</p>
                      </section>
                      <section>
                        <h2>Conclusion</h2>
                        <p>Wrapping up the presentation.</p>
                      </section>


                      <section>
                            <h2>Introduction</h2>
                            <p>Welcome to the presentation.</p>
                          </section>
                          <section>
                            <h2>Content</h2>
                            <p>Here is the main content.</p>
                          </section>
                          <section>
                            <h2>Conclusion</h2>
                            <p>Wrapping up the presentation.</p>
                          </section>

                          <section>
                                <h2>Introduction</h2>
                                <p>Welcome to the presentation.</p>
                              </section>
                              <section>
                                <h2>Content</h2>
                                <p>Here is the main content.</p>
                              </section>
                              <section>
                                <h2>Conclusion</h2>
                                <p>Wrapping up the presentation.</p>
                              </section>
                    
                    
                              <section>
                                    <h2>Introduction</h2>
                                    <p>Welcome to the presentation.</p>
                                  </section>
                                  <section>
                                    <h2>Content</h2>
                                    <p>Here is the main content.</p>
                                  </section>
                                  <section>
                                    <h2>Conclusion</h2>
                                    <p>Wrapping up the presentation.</p>
                                  </section>
                    
                    
                                  <section>
                                        <h2>Introduction</h2>
                                        <p>Welcome to the presentation.</p>
                                      </section>
                                      <section>
                                        <h2>Content</h2>
                                        <p>Here is the main content.</p>
                                      </section>
                                      <section>
                                        <h2>Conclusion</h2>
                                        <p>Wrapping up the presentation.</p>
                                      </section>
                    
                    
                                      <section>
                                            <h2>Introduction</h2>
                                            <p>Welcome to the presentation.</p>
                                          </section>
                                          <section>
                                            <h2>Content</h2>
                                            <p>Here is the main content.</p>
                                          </section>
                                          <section>
                                            <h2>Conclusion</h2>
                                            <p>Wrapping up the presentation.</p>
                                          </section>
                    
                    
                                          <section>
                                                <h2>Introduction</h2>
                                                <p>Welcome to the presentation.</p>
                                              </section>
                                              <section>
                                                <h2>Content</h2>
                                                <p>Here is the main content.</p>
                                              </section>
                                              <section>
                                                <h2>Conclusion</h2>
                                                <p>Wrapping up the presentation.</p>
                                              </section>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/js/reveal.min.js"></script>
  <script>
    Reveal.initialize();

    document.addEventListener('DOMContentLoaded', function() {
      const tocContainer = document.getElementById('toc');
      const slides = document.querySelectorAll('section');

      slides.forEach((slide, index) => {
        const title = slide.querySelector('h2, h3, h4');
        if (title) {
          const anchor = document.createElement('a');
          anchor.href = `#/${index}`;
          anchor.textContent = title.textContent;
          const listItem = document.createElement('li');
          listItem.appendChild(anchor);
          tocContainer.appendChild(listItem);
        }
      });

      const toggleBtn = document.getElementById('toggle-btn');
      const sidebar = document.getElementById('sidebar');
      const reveal = document.getElementById('reveal');

      toggleBtn.addEventListener('click', function() {
        sidebar.classList.toggle('collapsed');
        reveal.classList.toggle('shifted');
        // Change button text based on sidebar state
        if (sidebar.classList.contains('collapsed')) {
          toggleBtn.textContent = 'Expand'; // Text for collapsed state
        } else {
          toggleBtn.textContent = 'Collapse'; // Text for expanded state
        }
      });
    });
  </script>
</body>
</html>
